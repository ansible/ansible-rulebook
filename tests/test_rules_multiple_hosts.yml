---
- name: Test rules multiple hosts
  hosts: localhost0, localhost1
  sources:
    - name: range
      range:
        limit: 5
  host_rules:
    - name:
      condition: event.i == 1
      action:
        assert_fact:
          ruleset: Test rules multiple hosts_localhost0
          fact:
            j: 1
    - name:
      condition: event.i == 2
      action:
        run_playbook:
          name: hello_playbook1.yml
    - name:
      condition: event.i == 3
      action:
        retract_fact:
          ruleset: Test rules multiple hosts_localhost0
          fact:
            j: 3
    - name:
      condition: event.i == 4
      action:
        post_event:
          ruleset: Test rules multiple hosts_localhost0
          fact:
            j: 4
    - name:
      condition: +event.j
      action:
        none:
